var Ws={lastHash:"",highlightSelected:function(){var e=!1;$("section").each(function(t){var n="#"+$(this).attr("id");if(n===Ws.lastHash){$("nav a.active").removeClass("active");$("nav a").eq(t).addClass("active");e=!0;return!1}})}};$(document).ready(function(){$(".scroll").click(function(e){e.preventDefault();Ws.lastHash=this.hash;$("html,body").animate({scrollTop:$(this.hash).offset().top-$("#site_nav").height()},500,"swing",function(){Ws.lastHash=""});Ws.highlightSelected()});$(".parallax_bg").parallax("50%",.4);$(".ring").parallax("50%",.1)});$(window).scroll(function(){var e=!1;Ws.lastHash.length&&$("section").each(function(t){var n="#"+$(this).attr("id");if(n===Ws.lastHash){$("nav a.active").removeClass("active");$("nav a").eq(t).addClass("active");e=!0;return!1}});if(e)return;var t=$(window).scrollTop(),n=$(document).height()-($(window).scrollTop()+$(window).height()),r=t+$("#site_nav").height()+$("section").first().height();$("#middle").css({top:r});if(t===0){$("nav a.active").removeClass("active");$("nav a:first").addClass("active")}else if(n===0){$("nav a.active").removeClass("active");$("nav a:last").addClass("active")}else $("section").each(function(e){if(r>=$(this).position().top){$("nav a.active").removeClass("active");$("nav a").eq(e).addClass("active")}})}).scroll();